
<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <!-- Disable zoom, keep scroll; ensure full-bleed fit on iOS -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <meta name="format-detection" content="telephone=no" />
  <title>Dolphin Wallet Finder</title>

  <!-- Link to Manifest -->
  <link rel="manifest" href="/vip/manifest.json" /> 
  <link rel="stylesheet" href="assets/vip-theme.css">

  <style>
  :root{
    --c1:#0ff1e7; --c2:#35a7ff; --c3:#14ff89;
    /* controlled micro-shift variables */
    --safe-shift: 0px;
    --ios-micro-shift: 0px;
    --grid:#0e1628;
    --panel:rgba(10,16,26,.70); --panel2:rgba(6,12,20,.60);
    --stroke:rgba(64,203,255,.28); --dash:rgba(32,205,255,.22);
    --muted:rgba(190,245,255,.85); --text:#eafaff;
    --shadow-lg:0 28px 90px rgba(0,0,0,.65);
  }

  /* iOS portrait micro-offset to counter visual right bias */
  @supports (-webkit-touch-callout: none) {
    @media (orientation: portrait) {
      :root{ --ios-micro-shift: -16px; } /* shift a hair to the left */
    }
    @media (orientation: landscape) {
      :root{ --ios-micro-shift: 0px; }
    }
  }

  *{box-sizing:border-box; -webkit-tap-highlight-color:transparent;}
  html{ height:100%; overflow-y:auto; overflow-x:hidden; overscroll-behavior-y:contain; } body{overflow-x:hidden;}
  body{
    height:auto; min-height:100%;
    margin:0;
    overflow-y:auto; overflow-x:hidden;
    -webkit-text-size-adjust:100%;
    color:var(--text);
    font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    background:
      radial-gradient(1400px 820px at 15% 10%, rgba(53,167,255,.12), transparent 60%),
      radial-gradient(1100px 680px at 85% 90%, rgba(20,255,137,.12), transparent 60%),
      linear-gradient(180deg,#0a1220,var(--grid) 42%);
  }

  .radar{position:fixed; inset:0; z-index:-2}
  canvas{position:absolute; inset:0; width:100svw; height:100svh; pointer-events:none; contain:paint;}

  /* Fit exactly to the small viewport on iOS (avoids URL bar jump) */
  .stage{
    min-height:100svh;
    display:grid; place-items:center;
    padding:clamp(16px,3vw,32px);
    position:relative; z-index:2
  }
  /* Balance iPhone notch safe-areas so content stays visually centered */
  @supports (padding: max(0px)){
    .stage{ padding-inline: max(clamp(16px,3vw,32px), env(safe-area-inset-left), env(safe-area-inset-right)); }
  }
  .shell{ margin:0 auto; transform:translateX(calc(var(--safe-shift) + var(--ios-micro-shift))); will-change:transform;
    width:min(1200px,100vw);
    max-width:100%;
    display:grid; grid-template-columns:1.05fr 1.45fr;
    border-radius:28px; overflow:hidden; isolation:isolate; position:relative;
    box-shadow:var(--shadow-lg); border:1px solid var(--stroke);
  }
  @media (max-width:980px){ .shell{ margin:0 auto; transform:translateX(calc(var(--safe-shift) + var(--ios-micro-shift))); will-change:transform; grid-template-columns:1fr } }

  .brand-pane{
    position:relative;
    background:
      radial-gradient(900px 600px at 20% 10%, rgba(53,167,255,.22), transparent 60%),
      radial-gradient(700px 520px at 100% 100%, rgba(20,255,137,.20), transparent 65%),
      linear-gradient(180deg, rgba(12,22,36,.88), rgba(8,16,28,.78));
    backdrop-filter: blur(18px) saturate(120%);
    border-right:1px solid rgba(64,203,255,.18);
    overflow:hidden;
  }
  .brand-inner{ padding:34px; height:100%; display:flex; flex-direction:column; justify-content:space-between }
  .logo-wrap{ position:relative; width:min(240px,42vw); aspect-ratio:1/1; filter: drop-shadow(0 18px 42px rgba(53,167,255,.45)); }
  .ring{ position:absolute; inset:-12%; border-radius:50%;
    background:conic-gradient(from 0deg, rgba(53,167,255,.75), transparent 20%, rgba(15,241,231,.75), transparent 70%);
    filter:blur(12px); animation:spin 8s linear infinite; opacity:.9;
  }
  .title{ margin:14px 0 6px; font-weight:900; font-size:clamp(22px,2.2vw,30px);
    background:linear-gradient(90deg,var(--c2),var(--c1),var(--c3)); -webkit-background-clip:text; color:transparent; }
  .kicker{ color:var(--muted); line-height:1.8 }

  .content-pane{ background:linear-gradient(180deg,var(--panel),var(--panel2)); backdrop-filter: blur(18px) saturate(120%); position:relative; overflow:hidden; }
  .border-glow{ position:absolute; inset:-1.5px; border-radius:30px; z-index:-1; background:conic-gradient(from 0deg, transparent, rgba(53,167,255,.55), transparent 40%, rgba(15,241,231,.55), transparent 75%); filter:blur(8px); animation:spin 14s linear infinite; }
  .pane-inner{ padding:28px clamp(24px,4vw,38px); display:flex; flex-direction:column; gap:18px; height:100% }

  .hero h2{ margin:0; font-size:clamp(22px,2.4vw,32px); font-weight:900; background:linear-gradient(90deg,var(--c2),var(--c1),var(--c3)); -webkit-background-clip:text; color:transparent }
  .hero p{ color:var(--muted); line-height:1.9; margin:0 }

  .stats{ display:flex; gap:14px; flex-wrap:wrap; margin-top:6px }
  .stat{ background:linear-gradient(120deg,rgba(0,255,255,.09),rgba(0,35,80,.14)); border:1px solid rgba(64,203,255,.28); border-radius:14px; padding:12px 16px; min-width:140px }
  .stat .n{ font-size:1.6rem; font-weight:900; color:var(--c1); font-variant-numeric:tabular-nums; }
  .stat .l{ color:var(--muted); font-size:.95rem }

  .grid{ display:grid; grid-template-columns:1fr 1fr; gap:16px; margin-top:6px }
  @media (max-width:980px){ .grid{ grid-template-columns:1fr } }
  .card{ background:linear-gradient(110deg,rgba(0,255,255,.08),rgba(0,40,110,.13)); border:1px solid rgba(64,203,255,.28); border-radius:16px; padding:18px; display:flex; gap:10px; }

  .actions{ margin-top:20px; display:flex; justify-content:center; flex-wrap:wrap; gap:12px }
  .cta{
    display:flex; align-items:center; justify-content:center; gap:10px;
    height:56px; padding:0 22px;
    font-size:1.08rem; font-weight:900; letter-spacing:.35px; text-transform:uppercase;
    border:none; border-radius:18px; text-decoration:none;
    min-width:min(280px,45%);
    box-shadow:0 24px 50px rgba(53,167,255,.30);
  }
  .cta .icon{ display:inline-grid; place-items:center; width:22px; height:22px; }
  .btn-now{
    color:#001019;
    background:linear-gradient(95deg,var(--c2),var(--c1),var(--c3),var(--c2));
    background-size:220% 100%; transition:transform .15s ease, background-position .55s ease;
  }
  .btn-now:hover{ transform:translateY(-1px); background-position:100% 0 }
  .btn-telegram{
    color:#fff; background:#0088cc; box-shadow:0 24px 50px rgba(0,136,204,.35);
    transition:transform .15s ease, opacity .3s ease;
  }
  .btn-telegram:hover{ transform:translateY(-1px); opacity:.92 }
  .btn-telegram svg{ width:22px; height:22px; fill:#fff; }

  @media (max-width:600px){
    .cta{ width:100%; min-width:unset; }
  }

  .stores-wrap{ margin-top:auto; padding-top:6px; }
  .stores-strip{
    position:relative;
    border:1px solid rgba(64,203,255,.35);
    background:
      radial-gradient(140% 120% at 5% 15%, rgba(53,167,255,.22), transparent 60%),
      radial-gradient(120% 120% at 95% 85%, rgba(20,255,137,.18), transparent 60%),
      linear-gradient(135deg, rgba(0,25,55,.55), rgba(0,40,70,.55));
    backdrop-filter: blur(10px) saturate(130%);
    border-radius:18px;
    padding:18px 18px;
    display:flex;
    flex-direction:column;
    gap:14px;
    overflow:hidden;
    box-shadow:0 10px 30px rgba(0,0,0,.35) inset;
  }
  .stores-text{
    font-weight:900;
    letter-spacing:.25px;
    background:linear-gradient(90deg,var(--c2),var(--c1),var(--c3));
    -webkit-background-clip:text;
    color:transparent;
    font-size:clamp(16px,1.6vw,20px);
    display:flex; align-items:center; gap:10px;
  }
  .store-badges{ display:flex; gap:12px; flex-wrap:wrap; }
  .store-badge{
    display:inline-flex; align-items:center; gap:12px;
    padding:10px 14px; border-radius:14px;
    border:1px solid rgba(64,203,255,.28);
    background:linear-gradient(110deg,rgba(0,255,255,.10),rgba(0,40,110,.18));
    min-width:260px;
    cursor:not-allowed;
    opacity:.98;
  }
  .store-badge img{ height:28px; width:auto; display:block; -webkit-user-drag:none; user-select:none; }
  .store-badge .label{ display:flex; flex-direction:column; line-height:1.1; }
  .store-badge .name{ font-size:15px; font-weight:900; color:var(--text); }
  .store-badge .overline{ font-size:11px; opacity:.9; letter-spacing:.35px; color:var(--muted); }

  .foot{ margin-top:12px; text-align:center; color:var(--muted); font-size:.9rem }
  .version{ display:block; margin-top:6px; font-size:.85rem; opacity:.85; }

  .logo-wrap img{ width:100%; height:100%; object-fit:contain; display:block; }
  @media (max-width: 600px){
    .logo-wrap{ width:min(180px,60vw); margin:0 auto; }
  }

  @keyframes spin{ to { transform: rotate(360deg); } }

  /* Mobile comfort spacing (no structural change) */
  @media (max-width: 600px){
    .brand-inner{ padding:22px; }
    .pane-inner{ padding:20px 16px; }
    .stores-strip{ padding:14px; }
    .store-badge{ width:100%; min-width:0; }
  }
  
  /* ===== Direct Download modal ===== */
  .stores-actions{ display:flex; justify-content:flex-start; }
  .btn-direct-download{ min-width:unset; padding-inline:18px; height:48px; border-radius:14px; font-size:1rem; }

  .modal-backdrop{
    position:fixed; inset:0; display:none; place-items:center;
    background:rgba(0,8,16,.62);
    backdrop-filter: blur(6px);
    z-index:1000;
  }
  .modal-backdrop[aria-hidden="false"]{ display:grid; }
  .modal{
    position:relative;
    width:min(720px,92vw);
    background:linear-gradient(180deg, rgba(6,12,20,.95), rgba(8,16,28,.95));
    border:1px solid rgba(64,203,255,.35);
    border-radius:20px;
    box-shadow: var(--shadow-lg);
    padding:20px;
    outline:none;
  }
  .modal h3{
    margin:6px 0 4px;
    font-size:clamp(18px,2.2vw,24px);
    font-weight:900;
    background:linear-gradient(90deg,var(--c2),var(--c1),var(--c3));
    -webkit-background-clip:text; color:transparent;
  }
  .modal-kicker{ color:var(--muted); margin:0 0 14px; }
  .modal-grid{ display:grid; grid-template-columns:1fr 1fr; gap:12px; }
  @media (min-width:820px){ .modal-grid{ grid-template-columns:1fr 1fr 1fr 1fr; } }
  .modal-card{
    text-decoration:none; text-align:right;
    background:linear-gradient(110deg,rgba(0,255,255,.08),rgba(0,40,110,.13));
    border:1px solid rgba(64,203,255,.28);
    border-radius:14px; padding:14px;
    display:flex; gap:12px; align-items:flex-start; cursor:pointer;
    color:var(--text);
  }
  .modal-card:hover{ transform:translateY(-1px); }
  .modal-emoji{ font-size:26px; line-height:1; }
  .modal-title{ font-weight:900; }
  .modal-sub{ color:var(--muted); font-size:.95rem; }

  .modal-close{
    position:absolute; top:10px; right:10px;
    height:36px; width:36px; border-radius:12px; border:1px solid rgba(64,203,255,.28);
    background:linear-gradient(110deg,rgba(0,255,255,.08),rgba(0,40,110,.13));
    color:var(--text); cursor:pointer;
  }
  .pwa-steps{ margin-top:14px; border-top:1px dashed rgba(64,203,255,.28); padding-top:10px; }
  .pwa-steps ol{ margin:0 0 8px 18px; }
  .pwa-note{ color:var(--muted); margin:0; font-size:.95rem; }
    

/* ===== Polished Direct Download modal ===== */
.btn-direct-download{ min-width:unset; padding-inline:18px; height:48px; border-radius:14px; font-size:1rem; }

.modal-backdrop{
  position:fixed; inset:0; display:none; place-items:center;
  background:rgba(5,10,20,.62); backdrop-filter: blur(8px);
  z-index:1000;
}
.modal-backdrop[aria-hidden="false"]{ display:grid; }

.modal-neo{
  position:relative; width:min(860px,94vw);
  background:linear-gradient(180deg, rgba(10,18,30,.95), rgba(8,14,24,.95));
  border:1px solid rgba(64,203,255,.35);
  border-radius:22px; box-shadow: 0 10px 40px rgba(0,0,0,.45);
  padding:20px 18px 18px; outline:none;
}

.modal-neo .modal-head{
  margin:4px 6px 14px;
}
.modal-neo h3{
  margin:0 0 4px;
  font-size:clamp(18px,2.4vw,26px);
  font-weight:900;
  background:linear-gradient(90deg,var(--c2, #48E0FF),var(--c1, #8B5CF6),var(--c3, #22D3EE));
  -webkit-background-clip:text; color:transparent;
}
.modal-neo p{ color:var(--muted, #9fb3c8); margin:0; }

.modal-grid-neo{
  display:grid; gap:12px; margin-top:14px;
  grid-template-columns: 1fr;
}
@media (min-width:700px){
  .modal-grid-neo{ grid-template-columns: 1fr 1fr 1fr; }
}

.modal-card-neo{
  display:flex; align-items:center; gap:12px; text-decoration:none; text-align:left;
  background:linear-gradient(110deg,rgba(0,255,255,.08),rgba(0,40,110,.13));
  border:1px solid rgba(64,203,255,.28);
  border-radius:16px; padding:14px 16px; color:var(--text, #e6f2ff);
  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
}
.modal-card-neo:focus{ outline:2px solid rgba(72,224,255,.6); outline-offset:2px; }
.modal-card-neo:hover{
  transform: translateY(-1px);
  border-color: rgba(64,203,255,.6);
  box-shadow: 0 6px 20px rgba(64,203,255,.12);
}
.modal-card-neo .ico{ font-size:0; display:grid; place-items:center; opacity:.95; }
.modal-card-neo .txt{ display:grid; gap:2px; }
.modal-card-neo .title{ font-weight:900; letter-spacing:.2px; }
.modal-card-neo .sub{ color:var(--muted, #9fb3c8); font-size:.95rem; }
.modal-card-neo .chev{ margin-left:auto; font-size:16px; opacity:.8; }

.modal-close{
  position:absolute; top:10px; right:10px;
  height:36px; width:36px; border-radius:12px; border:1px solid rgba(64,203,255,.28);
  background:linear-gradient(110deg,rgba(0,255,255,.08),rgba(0,40,110,.13));
  color:var(--text, #e6f2ff); cursor:pointer;
}

.pwa-steps{ margin-top:14px; border-top:1px dashed rgba(64,203,255,.28); padding-top:10px; }
.pwa-steps h4{ margin:0 0 8px; }
.pwa-steps ol{ margin:0 0 8px 18px; }
.pwa-note{ color:var(--muted, #9fb3c8); margin:0; font-size:.95rem; }

 /* === Make "Direct download" visually match store badges (desktop + mobile) === */

/* Let the direct-download button sit alongside the store badges */
.store-badges .stores-actions{
  display: contents;
}

/* Match size and look of .store-badge */
.store-badges .btn-direct-download{
  display: inline-flex;
  align-items: center;
  gap: 12px;

  /* Dimensions aligned with .store-badge */
  height: auto;            /* override fixed height from .cta, if any */
  padding: 10px 14px;
  min-width: 260px;
  border-radius: 14px;
  border: 1px solid rgba(64,203,255,.28);
  background: linear-gradient(110deg, rgba(0,255,255,.10), rgba(0,40,110,.18));
  box-shadow: none;

  /* Typography consistent with badges */
  text-transform: none;
  letter-spacing: 0;
  font-size: 15px;
  font-weight: 900;
  color: var(--text);
  cursor: pointer;
}

/* Icon inside the direct-download button */
.store-badges .btn-direct-download .icon{
  width: 28px;
  height: 28px;
  display: inline-grid;
  place-items: center;
}

/* Responsive: full width on small screens like the badges */
@media (max-width: 600px){
  .store-badges .btn-direct-download{
    width: 100%;
    min-width: 0;
  }
}

/* =========================
   Centering + Responsiveness Fix
   (Keeps design intact, only adjusts layout behavior)
   ========================= */
.stage{ align-items:center; justify-items:center; }
.shell{
  margin-inline:auto;           /* hard center */
  justify-self:center;          /* grid self-center */
  transform:none !important;    /* neutralize micro-shift so it's truly centered */
  width:min(1200px, 100%);      /* prevent overflow on ultra-narrow viewports */
}
@supports (-webkit-touch-callout: none){
  :root{ --ios-micro-shift: 0px !important; } /* keep centered on iOS portrait */
}
  </style>
</head>
<body class="theme-gold">
  <div class="radar">
    <canvas id="radarGrid"></canvas>
    <canvas id="radarSweep"></canvas>
  </div>

  <main class="stage">
    <section class="shell">
      <aside class="brand-pane">
        <div class="brand-inner">
          <div>
            <div class="logo-wrap">
              <img src="assets/logo.png" alt="Dolphin logo" decoding="async" fetchpriority="high"/>
              <div class="ring" aria-hidden="true"></div>
            </div>
            <h1 class="title">Dolphin Wallet Finder</h1>
            <p class="kicker">
              Did you know? <b>It's estimated that over <span style="color:#fffe">3.7 million BTC</span> and countless millions in <span style="color:#fffe">ETH & other</span> tokens</b> are trapped in forgotten or lost wallets.<br>
              <span style="color:#aff;">Thousands of these wallets still hold real value. Dolphin helps you find them.</span>
            </p>
          </div>
        </div>
      </aside>

      <section class="content-pane">
        <div class="border-glow"></div>
        <div class="pane-inner">
          <div class="hero">
            <h2>Discover what others left behind on the blockchain!</h2>
            <p>Millions in digital assets are locked in inactive or forgotten wallets. Dolphin helps you find them.</p>
          </div>

          <div class="stats">
            <div class="stat"><div class="n" id="wCount">0</div><div class="l">Wallets uncovered</div></div>
            <div class="stat"><div class="n" id="uCount">0</div><div class="l">Active users</div></div>
            <div class="stat"><div class="n" id="cCount">0</div><div class="l">Supported networks</div></div>
          </div>

          <div class="grid">
            <article class="card"><i>üß≠</i><div><strong>AI-powered</strong><br/>Rapid scanning & wallet analysis. Start finding in seconds!</div></article>
            <article class="card"><i>üßä</i><div><strong>Multi-chain</strong><br/>Bitcoin, Ethereum, BNB, Tron, Solana.</div></article>
            <article class="card"><i>üõ°Ô∏è</i><div><strong>Bank-grade privacy</strong><br/>Human-verified withdrawals. No bots, no fraud, ever.</div></article>
            <article class="card"><i>‚òÅÔ∏è</i><div><strong>Cloud sync</strong><br/>Pick up where you left off on any device.</div></article>
          </div>

          <div class="actions">
           <a class="cta btn-now" href="https://dolphinwalletfinder.github.io/vip/pages/login.html">
              <span class="icon" aria-hidden="true">üöÄ</span> Join Now
            </a>
            <a class="cta btn-telegram" href="https://t.me/DolphinwalletFinderGlobal" target="_blank" rel="noopener">
              <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M9.999 15.173 9.937 19c.567 0 .815-.244 1.115-.536l2.67-2.553 5.534 4.025c1.015.56 1.735.266 1.988-.936l3.606-16.925c.369-1.592-.576-2.22-1.617-1.82L1.452 9.365c-1.548.62-1.524 1.51-.263 1.91l5.565 1.74 12.906-8.123c.608-.37 1.165-.166.708.204L9.999 15.173z"/>
              </svg>
              Telegram Channel
            </a>
          </div>

          <div class="stores-wrap">
            <div class="stores-strip" role="region" aria-label="Coming soon to marketplaces">
              <div class="stores-text">Coming soon on top marketplaces</div>
    
              <div class="store-badges">
                <button class="store-badge" type="button" disabled aria-disabled="true" title="Coming soon">
                  <img src="assets/google-play-badge.png" alt="Google Play badge" loading="lazy" decoding="async" />
                  <div class="label">
                    <span class="overline">Get it on</span>
                    <span class="name">Google Play</span>
                  </div>
                </button>
                <button class="store-badge" type="button" disabled aria-disabled="true" title="Coming soon">
                  <img src="assets/app-store-badge.png" alt="App Store badge" loading="lazy" decoding="async" />
                  <div class="label">
                    <span class="overline">Download on the</span>
                    <span class="name">App Store</span>
                  </div>
                </button>
                 <div class="stores-actions">
                <button class="cta btn-now btn-direct-download" type="button" id="openDirectDownload">
                  <span class="icon" aria-hidden="true">‚¨áÔ∏è</span> Direct download
                </button>
              </div>
              </div>
            </div>
          </div>

          <div class="foot">
            ¬© 2025 DOLPHIN WALLET FINDER. All rights reserved.
            <span class="version">Version <span id="appVersion">v1.0.0</span></span>
          </div>
        </div>
      </section>
    </section>
  </main>

  <script>
    // SEMI-LOCK: disable pinch & double-tap zoom, ALLOW vertical scroll/pan
    (function(){
      // Block native iOS pinch gestures
      ['gesturestart','gesturechange','gestureend'].forEach(evt=>{
        document.addEventListener(evt, function(e){ e.preventDefault(); }, {passive:false});
      });
      // Prevent double-tap zoom (keeps links working with single tap)
      let lastTouchEnd = 0;
      document.addEventListener('touchend', function(e){
        const now = Date.now();
        if (now - lastTouchEnd <= 300) {
          e.preventDefault();
        }
        lastTouchEnd = now;
      }, {passive:false});
      // Allow one-finger scroll, block multi-touch pinch/zoom only
      document.addEventListener('touchmove', function(e){
        if (e.touches && e.touches.length > 1) {
          e.preventDefault();
        }
      }, {passive:false});
    })();

    // Register service worker
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker
      .register('./service-worker.js', { scope: './' })
      .then(registration => {
        console.log('Service Worker registered with scope:', registration.scope);
      })
      .catch(error => {
        console.log('Service Worker registration failed:', error);
      });
  });
}


    // Animated counters
    const targets = { wCount: 296, uCount: 18800, cCount: 5 };

    function animNum(id, target, dur=1200, abbreviate=false){
      const el = document.getElementById(id); if(!el) return;
      const start = performance.now();
      function fmt(val){
        if(!abbreviate) return val.toLocaleString('en-US');
        if(val >= 1_000_000) return Math.round(val/1_000_000)+'M';
        if(val >= 1_000) return Math.round(val/1000)+'K';
        return String(val);
      }
      function tick(now){
        const p = Math.min(1, (now - start)/dur);
        const val = Math.floor(target * (0.2 + 0.8*p*p));
        const abbreviateThis = (id === 'uCount');
        el.textContent = fmt(abbreviateThis ? val : val);
        if(p < 1) requestAnimationFrame(tick);
      }
      requestAnimationFrame(tick);
    }

    Object.entries(targets).forEach(([id,val])=>{
      const abbreviate = id === 'uCount';
      animNum(id, val, 1500, abbreviate);
    });

    const APP_VERSION = "v1.4.4";
    const verEl = document.getElementById("appVersion");
    if (verEl) verEl.textContent = APP_VERSION;
  </script>

  <!-- Direct Download Modal -->
  <div class="modal-backdrop" id="downloadModal" aria-hidden="true">
    <div class="modal modal-neo" role="dialog" aria-modal="true" aria-labelledby="downloadTitle" aria-describedby="downloadDesc" tabindex="-1">
      <button class="modal-close" type="button" id="closeDirectDownload" aria-label="Close">‚úï</button>
      <div class="modal-head">
        <h3 id="downloadTitle">Direct download</h3>
        <p id="downloadDesc">Pick your platform to get started.</p>
      </div>
      <div class="modal-grid-neo">
        <a class="modal-card-neo" id="dlAndroid" href="./download/Dolphin_1_4.4.apk" download="Dolphin_1_4.4.apk">
          <span class="ico" aria-hidden="true">
            <!-- Android SVG -->
            <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M8 4.5a.75.75 0 0 1 1.3-.5l.9 1.08a6 6 0 0 1 2.6 0l.9-1.08a.75.75 0 1 1 1.15.96l-.72.86A6.5 6.5 0 0 1 19 11v6a2 2 0 0 1-2 2h-.5v1.5a.5.5 0 0 1-1 0V19H8.5v1.5a.5.5 0 0 1-1 0V19H7a2 2 0 0 1-2-2v-6a6.5 6.5 0 0 1 3.87-5.68l-.72-.86A.75.75 0 0 1 8 4.5ZM7.75 10A.75.75 0 1 0 7.75 8.5.75.75 0 0 0 7.75 10Zm8.5 0A.75.75 0 1 0 16.25 8.5.75.75 0 0 0 16.25 10Z"/>
            </svg>
          </span>
          <div class="txt">
            <div class="title">Android</div>
            <div class="sub">APK (direct download)</div>
          </div>
          <span class="chev" aria-hidden="true">‚§ì</span>
        </a>

        <button class="modal-card-neo" type="button" id="pwaIosHelp">
          <span class="ico" aria-hidden="true">
            <!-- iOS (Apple) SVG -->
            <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M16.365 1.43c.088.118.156.306.156.495 0 .19-.068.378-.156.496-.182.244-.474.496-.85.702-.374.206-.83.372-1.31.372-.105 0-.208-.01-.307-.03a.845.845 0 0 1-.149-.038c-.043-.016-.083-.034-.118-.055.09-.34.273-.68.53-.983.255-.301.59-.566.977-.76.177-.09.373-.17.582-.22.21-.05.435-.079.645-.079.14 0 .275.013.378.039.102.026.173.062.22.11ZM12.29 6.4c.77 0 1.894-.527 2.756-.527.84 0 1.914.49 2.622 1.29-2.25 1.23-1.888 4.43.357 5.28-.53 1.39-1.335 2.63-2.346 3.61-.877.846-1.89 1.63-3.11 1.63-1.17 0-1.55-.75-2.89-.75-1.36 0-1.78.72-2.93.72-1.18 0-2.11-.89-3.01-1.98C2.43 13.5 2 12.04 2 10.65c0-1.3.4-2.52 1.2-3.47.8-.96 1.9-1.59 3.04-1.59 1.19 0 1.94.78 2.86.78.9 0 1.48-.96 3.19-.96Z"/>
            </svg>
          </span>
          <div class="txt">
            <div class="title">iPhone (PWA)</div>
            <div class="sub">How to install to Home Screen</div>
          </div>
          <span class="chev" aria-hidden="true">‚Ä∫</span>
        </button>

        <a class="modal-card-neo" id="dlWindows" href="./download/Dolphin_1_4.4.zip" download="Dolphin_1_4.4.zip">
          <span class="ico" aria-hidden="true">
            <!-- Windows SVG -->
            <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M3 4.5 11 3v8H3V4.5Zm8 9.5H3v7L11 20v-6Zm1-11L21 2v9h-9V3Zm9 11h-9v6l9 1v-7Z"/>
            </svg>
          </span>
          <div class="txt">
            <div class="title">Windows</div>
            <div class="sub">EXE (direct download)</div>
          </div>
          <span class="chev" aria-hidden="true">‚§ì</span>
        </a>
      </div>

      <div class="pwa-steps" id="pwaSteps" hidden>
        <h4>Install on iPhone (PWA)</h4>
        <ol>
          <li>Open this site in <strong>Safari</strong>.</li>
          <li>Tap the <strong>Share</strong> button.</li>
          <li>Select <strong>Add to Home Screen</strong>, then tap <strong>Add</strong>.</li>
        </ol>
        <p class="pwa-note">Tip: After first launch, enable notifications if prompted.</p>
      </div>
    </div>
  </div>


<script>
  // === Direct download modal logic (polished) ===
  (function(){
    function ready(fn){ if(document.readyState!=='loading'){ fn(); } else { document.addEventListener('DOMContentLoaded', fn); } }
    ready(function(){
      const openBtn = document.getElementById('openDirectDownload');
      const modal = document.getElementById('downloadModal');
      const dialog = modal ? modal.querySelector('.modal') : null;
      const closeBtn = document.getElementById('closeDirectDownload');
      const pwaBtn = document.getElementById('pwaIosHelp');
      const pwaSteps = document.getElementById('pwaSteps');

      let lastFocus = null;
      function openModal(){
        if(!modal) return;
        lastFocus = document.activeElement;
        modal.setAttribute('aria-hidden','false');
        setTimeout(()=>{ dialog && dialog.focus(); }, 0);
        document.body.style.overflow = 'hidden';
      }
      function closeModal(){
        if(!modal) return;
        modal.setAttribute('aria-hidden','true');
        document.body.style.overflow = '';
        if(lastFocus) try{ lastFocus.focus(); }catch(_){}
        if(pwaSteps) pwaSteps.hidden = true;
      }

      if(openBtn){ openBtn.addEventListener('click', openModal); }
      if(closeBtn){ closeBtn.addEventListener('click', closeModal); }
      if(modal){
        modal.addEventListener('click', (e)=>{ if(e.target === modal) closeModal(); });
        document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape' && modal.getAttribute('aria-hidden') === 'false'){ closeModal(); } });
      }

      if(pwaBtn && pwaSteps){
        pwaBtn.addEventListener('click', ()=>{
          pwaSteps.hidden = !pwaSteps.hidden;
          if(!pwaSteps.hidden){ pwaBtn.scrollIntoView({behavior:'smooth', block:'nearest'}); }
        });
      }
    });
  })();
</script>

</body>

</html>


